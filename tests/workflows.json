{
    "KAUST Fish Counter":{
        "name": "KAUST Fish Counter",
        "nodes": [
            {
                "name": "fish_video",
                "type": "VideoFileSource",
                "filename": "$source_filename",
                "sample_every": "$source_sample_every"
            },
            {
                "name": "findfish_model",
                "type": "TFObjectDetectionModel",
                "model_name": "findfish",
                "version": 1
            },
            {
                "name": "falcoeye_detection",
                "type": "FalcoeyeDetectionNode",
                "labelmap": "/Users/jalalirs/Documents/code/falcoeye/falcoeye_ai/models/findfish/1/label_map.json",
                "min_score_thresh": "$min_score_thresh",
                "max_boxes": "$max_boxes"
            },
            {
                "name": "class_counter",
                "type": "ClassCounter",
                "keys": ["fish"]
            },
            {
                "name": "csv_outputter",
                "type": "CSVWriter",
                "filename": "$output_filename"
            }
        ],
        "edges": [
            [ "fish_video","findfish_model"],
            [ "findfish_model","falcoeye_detection"],
            [ "falcoeye_detection","class_counter"],
            [ "class_counter","csv_outputter"]
        ],
        "starters":["fish_video"],
        "run_order": [
            "fish_video",
            "findfish_model",
            "falcoeye_detection",
            "class_counter",
            "csv_outputter"
        ]
    }
}
