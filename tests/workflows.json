{
    "KAUST Fish Counter":{
        "name": "KAUST Fish Counter",
        "nodes": [
            {
                "name": "fish_video",
                "type": "VideoFileSource",
                "filename": "$source_filename",
                "sample_every": "$source_sample_every"
            },
            {
                "name": "findfish_model",
                "type": "TFObjectDetectionModel",
                "model_name": "findfish",
                "version": 1
            },
            {
                "name": "falcoeye_detection",
                "type": "FalcoeyeDetectionNode",
                "labelmap": "/Users/jalalirs/Documents/code/falcoeye/falcoeye_backbones/portofolio/fish/findfish/1/label_map.json",
                "min_score_thresh": "$min_score_thresh",
                "max_boxes": "$max_boxes"
            },
            {
                "name": "class_counter",
                "type": "ClassCounter",
                "keys": ["fish"]
            },
            {
                "name": "csv_outputter",
                "type": "CSVWriter",
                "filename": "$output_filename"
            }
        ],
        "edges": [
            [ "fish_video","findfish_model"],
            [ "findfish_model","falcoeye_detection"],
            [ "falcoeye_detection","class_counter"],
            [ "class_counter","csv_outputter"]
        ],
        "starters":["fish_video"],
        "run_order": [
            "fish_video",
            "findfish_model",
            "falcoeye_detection",
            "class_counter",
            "csv_outputter"
        ]
    },
    "Arabian AngelFish":{
        "name": "Arabian AngelFish",
        "nodes": [
            {
                "name": "fish_video",
                "type": "VideoFileSource",
                "filename": "$source_filename",
                "sample_every": "$source_sample_every",
                "length": 10
            },
            {
                "name": "arabian_angel_model",
                "type": "TFObjectDetectionModel",
                "model_name": "arabianangelfish",
                "version": 1
            },
            {
                "name": "falcoeye_detection",
                "type": "FalcoeyeDetectionNode",
                "labelmap": "/Users/jalalirs/Documents/code/falcoeye/falcoeye_backbones/portofolio/fish/arabian_angelfish/1/label_map.json",
                "min_score_thresh": "$min_score_thresh",
                "max_boxes": "$max_boxes"
            },
            {
                "name": "arabian_angelfish_monitor",
                "type": "ClasstMonitor",
                "object_name": "arabian_angelfish", 
                "min_to_trigger_in": "$min_to_trigger_in", 
                "min_to_trigger_out": "$min_to_trigger_out"
            },
            {
                "name": "video_writer",
                "type": "VideoWriter",
                "prefix": "$prefix"
            }
            
        ],
        "edges": [
            [ "fish_video","arabian_angel_model"],
            [ "arabian_angel_model","falcoeye_detection"],
            [ "falcoeye_detection","arabian_angelfish_monitor"],
            [ "arabian_angelfish_monitor","video_writer"]
        ],
        "starters":["fish_video"],
        "run_order": [
            "fish_video",
            "arabian_angel_model",
            "falcoeye_detection",
            "arabian_angelfish_monitor",
            "video_writer"
        ]
    },
    "KAUST Fish Counter Threaded":{
        "name": "KAUST Fish Counter Threaded",
        "nodes": [
            {
                "name": "fish_video",
                "type": "VideoFileSource",
                "filename": "$source_filename",
                "sample_every": "$source_sample_every"
            },
            {
                "name": "findfish_model",
                "type": "TFObjectDetectionModel",
                "model_name": "findfish",
                "version": 1
            },
            {
                "name": "findfish_model_thread",
                "type": "ThreadWrapper",
                "node": "findfish_model"
            },
            {
                "name": "falcoeye_detection",
                "type": "FalcoeyeDetectionNode",
                "labelmap": "/Users/jalalirs/Documents/code/falcoeye/falcoeye_backbones/portofolio/fish/findfish/1/label_map.json",
                "min_score_thresh": "$min_score_thresh",
                "max_boxes": "$max_boxes"
            },
            {
                "name": "class_counter",
                "type": "ClassCounter",
                "keys": ["fish"]
            },
            {
                "name": "csv_outputter",
                "type": "CSVWriter",
                "filename": "$output_filename"
            },
            {
                "name": "sequence_runner",
                "type": "SequenceRunner",
                "frequency": "$frequency",
                "nodes": [
                    "falcoeye_detection",
                    "class_counter",
                    "csv_outputter"
                ]
            }
        ],
        "edges": [
            ["fish_video","findfish_model_thread"],
            ["falcoeye_detection","class_counter"],
            ["class_counter","csv_outputter"],
            ["findfish_model_thread","sequence_runner"]
        ],
        "starters":["fish_video"],
        "run_order": [
            "sequence_runner",
            "findfish_model_thread",
            "fish_video"
        ]
    }
}
